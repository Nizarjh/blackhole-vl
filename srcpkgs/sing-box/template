# Template file for 'sing-box'
pkgname=sing-box
version=1.12.21
revision=1
build_style=go
go_import_path=github.com/sagernet/sing-box
go_package=github.com/sagernet/sing-box/cmd/sing-box
go_build_tags=with_gvisor,with_quic,with_dhcp,with_wireguard,with_utls,with_acme,with_clash_api,with_tailscale
go_ldflags="-X github.com/sagernet/sing-box/constant.Version=${version}"
short_desc="Universal proxy platform"
maintainer="Unixd <unixd@noreply.codeberg.org>"
license="GPL-3.0-or-later"
homepage="https://sing-box.sagernet.org/"
distfiles="https://github.com/SagerNet/sing-box/archive/refs/tags/v${version}.tar.gz"
checksum="31581ecc92d75ed29103df636ddbd93f2c2f350104d82bba58c5e8ecf94660ca"
conf_files="/etc/sing-box/config.json"

post_install() {
	vmkdir etc/$pkgname
	vcopy release/config/*.json etc/$pkgname/
	vsv $pkgname
}
