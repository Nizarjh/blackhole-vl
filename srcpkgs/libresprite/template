# Template file for 'libresprite'
pkgname=libresprite
version=1.2
revision=1
build_style=cmake
configure_args="-DCMAKE_INSTALL_PREFIX=/usr/ -G Ninja -DCMAKE_EXE_LINKER_FLAGS='-lwebp'"
hostmakedepends="pkgconf cmake ninja"
makedepends="libwebp-devel libcurl-devel freetype-devel giflib-devel gtest-devel libjpeg-turbo-devel pixman-devel libpng-devel SDL2-devel SDL2_image-devel tinyxml2-devel nodejs-devel zlib-devel libarchive-devel"
short_desc="Animated sprite editor & pixel art tool"
maintainer="Kirilla39 <kirill39.pesin@ya.ru>"
license="GPL-2.0-only"
homepage="https://github.com/libresprite/libresprite"
distfiles="https://github.com/libresprite/libresprite/releases/download/v${version}/SOURCE.CODE.+.submodules.tar.gz"
checksum="38a2387694df9d5725244622d1c2e6cae8aced06b19c19cfbeab96afb13523c0"

post_install() {
	vinstall ${FILESDIR}/libresprite.desktop 644 usr/share/applications libresprite.desktop
	for size in 16 32 48 64 256; do
		vinstall desktop/icons/hicolor/${size}x${size}/apps/libresprite.png 644 usr/share/icons/hicolor/${size}x${size}/apps/
	done
}
